# Config file for transforming data from a source
# See additional/optional config parameters at https://koza.monarchinitiative.org/Ingests/source_config/
#
# This uses Koza 2.x nested configuration format with reader/transform/writer sections

name: "{{ cookiecutter.__ingest_name }}"

reader:
  format: "csv"  # Format of the data files (csv or json)
  files:
    - "../../data/example_data.tsv"
  #################################################################################################
  ### file_archive is typically optional, but required if:                                      ###
  ###    1. files is not provided                                                               ###
  ###    2. files listed above are compressed in an archive such as a tarball or zip file       ###
  ### If you have a file archive, uncomment the line below and provide the path to the archive  ###
  ### Otherwise, it is safe to remove this section and the file_archive parameter               ###
  #################################################################################################
  # file_archive: Optional path to a file archive containing files to process

  delimiter: "\t"  # Delimiter for csv files (REQUIRED if format is csv)
  # columns: List of columns to include
  # field_type_map: Dict of field names and their type (using the FieldType enum)
  # required_properties: List of properties which must be in json data files
  # header_mode: Header row mode (infer, none, or line number)
  # header_delimiter: Delimiter for header in csv files
  # header_prefix: Prefix for header in csv files
  # comment_char: Comment character for csv files (default: #)
  # skip_blank_lines: Boolean - whether to skip blank lines (default: true)
  # json_path: List of paths within JSON object containing data to process

transform:
  code: "./transform.py"  # Path to transform code
  # filters: List of filters to apply
  # mapping: List of dependency configs this transform depends on
  # global_table: Path to a global table file
  # local_table: Path to a local table file

writer:
  node_properties:
    # List of node properties to include, if ingesting nodes
    # Remove this section if not ingesting nodes
    - id
    - name
    - category

  edge_properties:
    # List of edge properties to include if ingesting edges
    # Remove this section if not ingesting edges
    - id
    - subject
    - predicate
    - object
    - subject_category
    - object_category
    - category
    - knowledge_level
    - agent_type

  min_node_count: 10
  min_edge_count: 5
  # sssom_config: SSSOM config options
